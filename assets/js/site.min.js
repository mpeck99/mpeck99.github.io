"use strict";if(document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector("body");e.classList.contains("transition")?e.classList.remove("transition"):e.classList.add("transition")}),document.querySelector(".main-nav"))for(var path=location.pathname.split("/"),href=path[1],navLink=document.querySelectorAll(".nav-link"),i=0;i<navLink.length;i++)(navLink[i].getAttribute("href")===href||""===href&&"index.html"===navLink[i].getAttribute("href"))&&navLink[i].classList.add("active");if(document.querySelector(".hamburger-menu")){var menu=document.querySelector(".hamburger-menu"),navList=document.querySelector(".main-nav"),body=document.querySelector("body");menu.addEventListener("click",function(){navList.classList.contains("js-open")?(menu.classList.add("js-close"),navList.classList.add("js-close"),setTimeout(function(){navList.classList.remove("js-open"),menu.classList.remove("js-open"),menu.classList.remove("js-close"),navList.classList.remove("js-close"),body.classList.remove("js-open")},500)):(navList.classList.add("js-open"),body.classList.add("js-open"),menu.classList.add("js-open"))})}var movieArray=[],movieWrapper=document.querySelector(".movie-wrapper");function loadMovies(){movieWrapper.innerHTML="",setTimeout(function(){for(var e=function(){var e="https://api.themoviedb.org/3/movie/"+movieArray[a].id+"?api_key=e444034c3d7ef62e63059e6e8ac5b828&language=en-US",t="https://api.themoviedb.org/3/movie/"+movieArray[a].id+"/release_dates?api_key=e444034c3d7ef62e63059e6e8ac5b828&language=en-US";fetch(e).then(function(e){e.json().then(function(o){fetch(t).then(function(e){e.json().then(function(e){for(var t=e.results.filter(function(e){return"US"===e.iso_3166_1}),a=0;a<t.length;a++){var i="";i=325<=o.overview.length?o.overview.substring(0,325)+'<a href="https://www.themoviedb.org/movie/'+o.id+"-"+o.title+'" target="_blank" class="read-more" aria-label="Read more about'+o.title+'">...read more</a>':o.overview;var r=(o.vote_average/10*5).toFixed(1),s="",n=Math.floor(o.runtime/60)+"h "+o.runtime%60+"m";""!=t[a].release_dates[0].certification&&"undefined"!=t[a].release_dates[0].certification?s=t[a].release_dates[0].certification:""!=t[a].release_dates[1].certification&&"undefined"!=t[a].release_dates[1].certification?s=t[a].release_dates[1].certification:""!=t[a].release_dates[2].certification&&"undefined"!=t[a].release_dates[2].certification?s=t[a].release_dates[2].certification:""!=t[a].release_dates[3].certification&&"undefined"!=t[a].release_dates[3].certification&&(s=t[a].release_dates[3].certification),"Science Fiction"===o.genres[0].name&&(o.genres[0].name="Sci-Fi"),movieWrapper.innerHTML+='<div class="card" onclick="this.focus()" style="background-image: url(\'https://image.tmdb.org/t/p/original/'+o.poster_path+"');\""+o.id+'><div class="details"><h2>'+o.title+'</h2><p class="tagline">'+o.tagline+'</p><div class="stars" style="--rating:'+r+';" aria-label="Rating of this product is '+r+' out of 5."><span>'+r+"</span></div><ul><li>"+s+"</li><li>"+o.release_date.split("-")[0]+"</li><li>"+n+"</li><li>"+o.genres[0].name+'</li></ul><p class="overview">'+i+"</p></div></div>"}})})}).catch(function(e){console.error("we came across an error",e)})})},a=0;a<movieArray.length;a++)e()},1e3)}if(movieWrapper){var personalSearch=function(){var t=document.querySelector("#search").value.toLowerCase();if(document.querySelector(".error").classList.contains("active")&&document.querySelector(".error").classList.remove("active"),0==t.length||" "==t)loadMovies();else{var i=movieArray.filter(function(e){return e.title.toLowerCase().replace(/'/g,"").includes(t.toLowerCase().replace(/'/g,""))});if(0<i.length){setTimeout(function(){for(var e=function(){var e="https://api.themoviedb.org/3/movie/"+i[a].id+"?api_key=e444034c3d7ef62e63059e6e8ac5b828&primary_release_year="+i[a].year+"&year="+i[a].year+"&query="+i[a].title.replace(/\s/g,"-")+"&language=en-US",t="https://api.themoviedb.org/3/movie/"+movieArray[a].id+"/release_dates?api_key=e444034c3d7ef62e63059e6e8ac5b828&language=en-US";movieWrapper.innerHTML="",fetch(e).then(function(e){return e.json().then(function(o){fetch(t).then(function(e){return e.json().then(function(e){for(var t=e.results.filter(function(e){return"US"===e.iso_3166_1}),a=0;a<t.length;a++){var i="";i=325<=o.overview.length?o.overview.substring(0,325)+'<a href="https://www.themoviedb.org/movie/'+o.id+"-"+o.title+'" target="_blank" class="read-more" aria-label="Read more about'+o.title+'">...read more</a>':o.overview;var r=10*o.vote_average,s="",n=Math.floor(o.runtime/60)+"h "+o.runtime%60+"m";s=""!=t[a].release_dates[0].certification?t[a].release_dates[0].certification:""!=t[a].release_dates[1].certification?t[a].release_dates[1].certification:""!=t[a].release_dates[2].certification?t[a].release_dates[2].certification:""!=t[a].release_dates[3].certification?t[a].release_dates[3].certification:"N/A","Science Fiction"===o.genres[0].name&&(o.genres[0].name="Sci-Fi"),movieWrapper.innerHTML+='<div class="card" onclick="this.focus()" style="background-image: url(\'https://image.tmdb.org/t/p/original/'+o.poster_path+"');\""+o.id+'><div class="details"><h2>'+o.title+'</h2><span class="score"><p>'+r+'%</p></span><p class="tagline">'+o.tagline+"</p><ul><li>"+s+"</li><li>"+o.release_date.split("-")[0]+"</li><li>"+n+"</li><li>"+o.genres[0].name+'</li></ul><p class="overview">'+i+"</p></div></div>"}})})}).catch(function(e){console.error("we came across an error",e)})})},a=0;a<i.length;a++)e()},100)}else movieWrapper.innerHTML="",document.querySelector(".error").classList.contains("active")||(movieWrapper.innerHTML="",document.querySelector(".error").classList.add("active"))}},googleUrl="https://sheets.googleapis.com/v4/spreadsheets/1nXRZYrOnedMOvioQJxbIQKTpc9_XCGI23-KMk8jwZQU/values/Movies!A:D?key=AIzaSyDrWhgTrY_NIQ7pa19SpdYtF0Wcom3stDA";fetch(googleUrl).then(function(e){e.json().then(function(e){for(var t=e,a=0;a<t.values.length;a++){var i="https://api.themoviedb.org/3/search/movie?api_key=e444034c3d7ef62e63059e6e8ac5b828&query="+t.values[a][0].replace(/\s+/g,"-")+"&primary_release_year="+t.values[a][1]+"&year="+t.values[a][1]+"&language=en-US&include_adult=false";fetch(i).then(function(e){e.json().then(function(e){for(var t=0;t<e.results.length;t++){var a=e.results[t].title,i=e.results[t].release_date.split("-")[0];movieArray.push({title:a,year:i,id:e.results[t].id,poster:"https://image.tmdb.org/t/p/original/"+e.results[t].poster_path});break}}).catch(function(e){console.error("we came across an error",e)})})}})}).catch(function(e){console.error("There was an issue with the resquest",e)}),document.querySelector("#search").addEventListener("keyup",function(e){e.preventDefault(),13===e.keyCode&&personalSearch()}),document.querySelector(".search-submit").addEventListener("click",function(){personalSearch()}),document.querySelector(".search-submit").addEventListener("touchevent",function(){personalSearch()}),loadMovies(),window.addEventListener("scroll",function(){var e=document.querySelector(".back-top");100<window.scrollY&&(e.classList.contains("active")||e.classList.add("active")),0===window.scrollY&&e.classList.remove("active")}),document.querySelector(".back-top").addEventListener("click",function(){document.querySelector(".back-top").classList.contains("active")&&document.querySelector(".back-top").classList.remove("active")})}
//# sourceMappingURL=maps/site.min.js.map
